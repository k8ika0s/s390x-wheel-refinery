```mermaid
flowchart TD
    PLAN[Build job\n(name, version, py tag, platform)] --> FETCH[Fetch source (sdist)]
    FETCH --> SETUP[Create venv\ninstall build deps]
    SETUP --> BUILD[Run PEP 517 build]
    BUILD --> CHECK{Build ok?}
    CHECK -->|Yes| STORE[Store wheel\n/cache + /output]
    CHECK -->|No| RETRY[Apply hint recipes\nretry variants]
    RETRY --> CHECK
    STORE --> HISTORY[Record event/log\nstatus, duration, variant]
    RETRY -. if max retries fail .-> HISTORY
```
