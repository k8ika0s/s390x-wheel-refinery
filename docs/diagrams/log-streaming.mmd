flowchart LR
  worker[Worker Runner] -- "NDJSON log chunks" --> cp[Control plane API]
  cp -- "insert log chunks" --> db[Postgres]
  cp -- "publish log chunks" --> hub[Log hub]
  hub -- "WebSocket log chunks" --> ui[UI Log Viewer]
  ui -- "GET log chunks" --> cp
  worker -- "POST log entry" --> cp
  cp -- "insert log entry" --> db
